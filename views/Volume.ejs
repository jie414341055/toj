<link href="/stylesheets/volume.css" rel="stylesheet">
<div id="Problem Achieve">
	<h2 style="text-align:center"><font color="#428BCA">Problem Archive</font></h2>
	<form class="form-inline" role="form"></form>
</div>

<center>
	<ul class="pagination">
		<% if(fvol_num >= 4) { %>
		<% if(fvol_num+3<ftotal_vol-2) { %>
		<% if(fvol_num == 4) { %>
		<li class="disabled"><a href="#">&laquo;</a></li>
		<% } else { %>
		<li><a href="/Problems?Volume=<%= fvol_num-4%>">&laquo;</a></li>
		<% } %>
		<li><a href="/Problems?Volume=<%= fvol_num-3 %>"><%= fvol_num-3 %></a></li>
		<li><a href="/Problems?Volume=<%= fvol_num-2 %>"><%= fvol_num-2 %></a></li>
		<li><a href="/Problems?Volume=<%= fvol_num-1 %>"><%= fvol_num-1 %></a></li>
		<li class="active"><a href="/Problems?Volume=<%= fvol_num %>"><%= fvol_num %></a></li>
		<li><a href="/Problems?Volume=<%= fvol_num+1 %>"><%= fvol_num+1 %></a></li>
		<li><a href="/Problems?Volume=<%= fvol_num+2 %>"><%= fvol_num+2 %></a></li>
		<li><a href="/Problems?Volume=<%= fvol_num+3 %>"><%= fvol_num+3 %></a></li>
		<li><a href="#">...</a></li>
		<li><a href="/Problems?Volume=<%= ftotal_vol-2 %>"><%= ftotal_vol-2 %></a></li>
		<li><a href="/Problems?Volume=<%= ftotal_vol-1 %>"><%= ftotal_vol-1 %></a></li>
		<li><a href="/Problems?Volume=<%= ftotal_vol %>"><%= ftotal_vol %></a></li>
		<li><a href="/Problems?Volume=<%= fvol_num+4%>">&raquo;</a></li>
		<% } else {%>
		<li class="disabled"><a href="#">&laquo;</a></li>
		<li><a href="/Problems?Volume=">1</a></li>
		<li><a href="/Problems?Volume=">2</a></li>
		<li><a href="/Problems?Volume=">3</a></li>
		<li><a href="#">...</a></li>
		<% for(var i=ftotal_vol-6;i<=ftotal_vol;++i){ %>
		<%if(i==fvol_num){%> <li class="active"><%}else { %>
		<li><%}%>
		<a href="/Problems?Volume=<%= i %>"><%= i %></a></li>
		<%}%>
		<li class="disabled"><a href="#">&laquo;</a></li>
		<% } %>
		<% } else { %>
		<li class="disabled"><a href="#">&laquo;</a></li>
		<%for(var i=1;i<=7;++i){%>
		<%if(i==fvol_num){%> <li class="active"><%}else{%>
		<li><%}%>
		<a href="/Problems?Volume=<%= i %>"><%= i %></a></li>
		<%}%>
		<li><a href="#">...</a></li>
		<li><a href="/Problems?Volume=<%= ftotal_vol-2 %>"><%= ftotal_vol-2 %></a></li>
		<li><a href="/Problems?Volume=<%= ftotal_vol-1 %>"><%= ftotal_vol-1 %></a></li>
		<li><a href="/Problems?Volume=<%= ftotal_vol %>"><%= ftotal_vol %></a></li>
		<li><a href="/Problems?Volume=8">&raquo;</a></li>
		<%}%>

	</ul>
</center>
<div id="form-horizontal" role="form">
	<div class="form-group">
		<div class="col-xs-3">
			<input id = "pid_or_title" type="text" class="form-control" placeholder="PID or Title">
		</div>
		<label class="col-sm-1 control-label">OJ:</label>
		<div class="col-xs-2">
			<select id = "oj" class="form-control">
				<option value="">All</option>
				<option value="0">TOJ</option>
				<option value="1">HDU</option>
				<option value="2">POJ</option>
			</select>
		</div>
		<button type="button" class="btn btn-primary" onclick="Search()">Search</button>

	</div>
	<div class="form-group">
		<table id="problemList" class="table table-striped table-centered">
			<thead>
				<tr>
					<th class="header-status">
					</th>
					<th class="header-id">
						<div id="searchTitleBtn" class="" order='asc'><a href="#">ID</a></div>
					</th>
					<th class="header-title">
						<div id="searchTitleBtn" class="" order='asc'><a href="#">Title</a></div>
					</th>
					<th class="header-oj">
						<div id="titleBtn" class="" order='asc'><a href="#">OJ</a></div>
					</th>
					<th class="header-vid">
						<div id="searchTitleBtn" class="" order='asc'><a href="#">vID</a></div>
					</th>
					<th class="header-ac">
						<div id="searchAcrateBtn" class="" order='asc'><a href="#">AC Ratio</a></div>
					</th>
				</tr>
			</thead>
			<tbody>
				<% fprobs.forEach(function(prob, index) { %>
				<tr>
					<span class="ac"> </span>
					<td>
						<td><%= prob.pid %></td>
						<td><a href="/ShowProblems?pid=<%= prob.pid %>"><%- prob.title %></a></td>
						<td><%= prob.oj %></td>
						<td><%= prob.vid %></td>
						<td><%= Math.round(prob.vtotal_ac/prob.vtotal_submit*10000)/100 %>&#37;(<a href=/Status?pid=<%- prob.pid %>&result=0><%= prob.vtotal_ac+prob.total_ac %></a>/<a href=/Status?pid=<%- prob.pid%>&result=><%= prob.vtotal_submit+prob.total_submit %></a>)</td>
					</td>
				</tr>
				<% }); %>

			</tbody>
		</table>
	</div>
</div>
<center>
	<ul class="pagination">
		<% if(fvol_num >= 4) { %>
		<% if(fvol_num+3<ftotal_vol-2) { %>
		<% if(fvol_num == 4) { %>
		<li class="disabled"><a href="#">&laquo;</a></li>
		<% } else { %>
		<li><a href="/Problems?Volume=<%= fvol_num-4%>">&laquo;</a></li>
		<% } %>
		<li><a href="/Problems?Volume=/vol<%= fvol_num-3 %>"><%= fvol_num-3 %></a></li>
		<li><a href="/Problems?Volume=vol<%= fvol_num-2 %>"><%= fvol_num-2 %></a></li>
		<li><a href="/Problems?Volume=<%= fvol_num-1 %>"><%= fvol_num-1 %></a></li>
		<li class="active"><a href="/Problems?Volume=<%= fvol_num %>"><%= fvol_num %></a></li>
		<li><a href="/Problems?Volume=<%= fvol_num+1 %>"><%= fvol_num+1 %></a></li>
		<li><a href="/Problems?Volume=<%= fvol_num+2 %>"><%= fvol_num+2 %></a></li>
		<li><a href="/Problems?Volume=<%= fvol_num+3 %>"><%= fvol_num+3 %></a></li>
		<li><a href="#">...</a></li>
		<li><a href="/Problems?Volume=<%= ftotal_vol-2 %>"><%= ftotal_vol-2 %></a></li>
		<li><a href="/Problems?Volume=<%= ftotal_vol-1 %>"><%= ftotal_vol-1 %></a></li>
		<li><a href="/Problems?Volume=<%= ftotal_vol %>"><%= ftotal_vol %></a></li>
		<li><a href="/Problems?Volume=<%= fvol_num+4%>">&raquo;</a></li>
		<% } else {%>
		<li class="disabled"><a href="#">&laquo;</a></li>
		<li><a href="/Problems?Volume=1">1</a></li>
		<li><a href="/Problems?Volume=2">2</a></li>
		<li><a href="/Problems?Volume=3">3</a></li>
		<li><a href="#">...</a></li>
		<% for(var i=ftotal_vol-6;i<=ftotal_vol;++i){ %>
		<%if(i==fvol_num){%> <li class="active"><%}else{%>
		<li><%}%>
		<a href="/Problems?Volume=<%= i %>"><%= i %></a></li>
		<%}%>
		<li class="disabled"><a href="#">&laquo;</a></li>
		<% } %>
		<% } else { %>
		<li class="disabled"><a href="#">&laquo;</a></li>
		<%for(var i=1;i<=7;++i){%>
		<%if(i==fvol_num){%> <li class="active"><%}else{%>
		<li><%}%>
		<a href="/Problems?Volume=<%= i %>"><%= i %></a></li>
		<%}%>
		<li><a href="#">...</a></li>
		<li><a href="/Problems?Volume=<%= ftotal_vol-2 %>"><%= ftotal_vol-2 %></a></li>
		<li><a href="/Problems?Volume=<%= ftotal_vol-1 %>"><%= ftotal_vol-1 %></a></li>
		<li><a href="/Problems?Volume=<%= ftotal_vol %>"><%= ftotal_vol %></a></li>
		<li><a href="/Problems?Volume=8">&raquo;</a></li>
		<%}%>

	</ul>
</center>
<div class='toTop' style="opacity: 1;" title="Back To Top">
	<div class="arrow"></div>
	<div class="stick"></div>
</div>
</div>
